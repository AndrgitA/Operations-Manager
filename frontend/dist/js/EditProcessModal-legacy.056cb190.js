(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EditProcessModal"],{"28ec":function(t,e,n){"use strict";var a=n("aabf"),o=n.n(a);o.a},"29eb":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-container overflow-hidden-auto edit-process-modal",on:{click:function(t){return t.stopPropagation()}}},[n("div",{staticClass:"width-window overflow-auto-hidden"},[n("div",{staticClass:"panel-container"},[t.struct&&t.curValue&&t.curSectionStruct?n("div",{staticClass:"edit-process-modal__inner-containter back_white"},[n("header-modal",{attrs:{title:t.struct.title},on:{onClose:t.handleCloseHeader}}),n("dynamic-fields-section",t._b({attrs:{fields:t.curSectionStruct.fields},model:{value:t.curValue,callback:function(e){t.curValue=e},expression:"curValue"}},"dynamic-fields-section",t.curSectionStruct.options,!1)),n("div",{staticClass:"edit-process-modal__bottom"},[n("button",{staticClass:"edit-process-modal__bottom-button btn-cyan regular font-body white",on:{click:t.handleButton}},[t._v(t._s(t.struct.button))])])],1):t._e()])])])},o=[],l=(n("7f7f"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-modal flex-start back_grey10"},[n("span",{staticClass:"header-modal__title semi-bold font-title inline-block grey50"},[t._v(t._s(t.title))]),n("div",{staticClass:"header-modal__delete-icon cursor-pointer",on:{click:t.handleClose}},[n("cross-icon")],1)])}),i=[],c={functional:!0,render(t,e){const{_c:n,_v:a,data:o,children:l=[]}=e,{class:i,staticClass:c,style:s,staticStyle:r,attrs:u={},...d}=o;return n("svg",{class:[i,c],style:[s,r],attrs:Object.assign({width:"30",height:"30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...d},l.concat([n("path",{staticClass:"cross-icon--",attrs:{d:"M8 8l14 14M22 8L8 22",stroke:"gray","stroke-width":"1.5","stroke-miterlimit":"10"}})]))}},s={name:"HeaderModal",componentName:"HeaderModal",components:{CrossIcon:c},props:{title:String},methods:{handleClose:function(t){console.log("[HeaderModal.vue]: handleClose: ",t),this.$emit("onClose",t)}}},r=s,u=(n("9a04"),n("2877")),d=Object(u["a"])(r,l,i,!1,null,null,null),p=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fields&&t.value?n("div",{staticClass:"dynamic-fields-section"},[n("div",{staticClass:"dynamic-flelds-section__content width-max-limit"},t._l(t.curFields,(function(e,a){return n(t.curComponents[e.type],t._b({key:a,tag:"component",staticClass:"dynamic-fields-section__component",on:{input:function(n){return t.handleInput(e.type,e.name,n)}},model:{value:t.value[e.name],callback:function(n){t.$set(t.value,e.name,n)},expression:"value[field.name]"}},"component",e.options,!1))})),1)]):t._e()},m=[],f=(n("456d"),n("ac6a"),n("6b54"),{name:"DynamicFieldsSection",componentName:"DynamicFieldsSection",props:{value:{type:Object,default:null},fields:{type:Array,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{allFields:{input:"InputComponent.vue",inputNumber:"InputNumber.vue",select:"SelectComponent.vue",textarea:"TextareaComponent.vue"},curFields:[],curComponents:{}}},watch:{fields:{handler:function(t,e){this.initializeStruct(t)},immediate:!0}},methods:{handleInput:function(t,e,n){console.log("[DynamicFieldsSection.vue]: handleInput: ",t,e,n);var a=this.$panel.clone(this.value);a[e]=n,this.$emit("input",a)},loadComponent:function(t){var e=this;return function(a){return Promise.all([n.e("chunk-7d32f69d"),n.e("chunk-0352a8c1")]).then(function(){var o=[n("4244")("./".concat(e.allFields[t]))];a.apply(null,o)}.bind(this)).catch(n.oe)}},initializeStruct:function(t){var e=this;console.log(t);var n=[],a=[];"[object Array]"===Object.prototype.toString.call(t)&&(t.forEach((function(t){if("[object Object]"===Object.prototype.toString.call(t)&&t.hasOwnProperty("type")&&e.allFields.hasOwnProperty(t.type)){if(-1===a.indexOf(t.type)&&a.push(t.type),!e.curComponents.hasOwnProperty(t.type)){var o=e.loadComponent(t.type);e.curComponents[t.type]=o}n.push(t)}})),this.curFields=n,Object.keys(this.curComponents).forEach((function(t){-1===a.indexOf(t)&&delete e.curComponents[t]})),a=null)}}}),v=f,y=(n("2aa5"),Object(u["a"])(v,h,m,!1,null,null,null)),b=y.exports,C={name:"EditProcessModal",componentName:"EditProcessModal",components:{HeaderModal:p,DynamicFieldsSection:b},props:{value:{type:Object,required:!0},struct:{type:Object,required:!0},callback:{type:Function,default:null},indexModal:{type:Number,required:!0},eventValue:{type:Number,default:null}},data:function(){return{curValue:null,curSectionStruct:null}},watch:{value:{handler:function(t,e){this.curValue=this.$panel.clone(t)},immediate:!0},struct:{handler:function(t,e){t&&t.hasOwnProperty("sectionStruct")&&(this.curSectionStruct=this.$panel.clone(t.sectionStruct))},immediate:!0}},methods:{checkFillFields:function(){var t=this,e=!0;return this.curSectionStruct.fields=this.curSectionStruct.fields.map((function(n){n.type;var a=n.hasOwnProperty("options")&&n.options.hasOwnProperty("passFillValid")&&n.options.passFillValid,o={input:"",textarea:"",inputDate:"",inputNumber:""};return!a&&o.hasOwnProperty(n.type)&&t.$panel.isEqual(t.curValue[n.name],o[n.type])&&(e=!1,n.options["isError"]=!0),n})),e},handleCloseHeader:function(t){console.log("[EditProcessModal.vue]: handleCloseHeader: ",t),null!==this.callback&&void 0!==this.callback&&this.callback({indexModal:this.indexModal,typeEvent:"close",event:t})},handleButton:function(t){console.log("[EditProcessModal.vue]: handleButton: ",t),this.checkFillFields()&&null!==this.callback&&void 0!==this.callback&&this.callback({indexModal:this.indexModal,typeEvent:this.struct.buttonNameEvent,value:this.curValue,event:t,eventValue:this.eventValue})}}},_=C,w=(n("28ec"),Object(u["a"])(_,a,o,!1,null,null,null));e["default"]=w.exports},"2aa5":function(t,e,n){"use strict";var a=n("9864"),o=n.n(a);o.a},"7f7f":function(t,e,n){var a=n("86cc").f,o=Function.prototype,l=/^\s*function ([^ (]*)/,i="name";i in o||n("9e1e")&&a(o,i,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(t){return""}}})},"85dd":function(t,e,n){},9864:function(t,e,n){},"9a04":function(t,e,n){"use strict";var a=n("85dd"),o=n.n(a);o.a},aabf:function(t,e,n){}}]);
//# sourceMappingURL=EditProcessModal-legacy.056cb190.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EditProcessModal"],{"28ec":function(e,t,n){"use strict";var l=n("aabf"),a=n.n(l);a.a},"29eb":function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scroll-container overflow-hidden-auto edit-process-modal",on:{click:function(e){return e.stopPropagation()}}},[n("div",{staticClass:"width-window overflow-auto-hidden"},[n("div",{staticClass:"panel-container"},[e.struct&&e.curValue&&e.curSectionStruct?n("div",{staticClass:"edit-process-modal__inner-containter back_white"},[n("header-modal",{attrs:{title:e.struct.title},on:{onClose:e.handleCloseHeader}}),n("dynamic-fields-section",e._b({attrs:{fields:e.curSectionStruct.fields},model:{value:e.curValue,callback:function(t){e.curValue=t},expression:"curValue"}},"dynamic-fields-section",e.curSectionStruct.options,!1)),n("div",{staticClass:"edit-process-modal__bottom"},[n("button",{staticClass:"edit-process-modal__bottom-button btn-cyan regular font-body white",on:{click:e.handleButton}},[e._v(e._s(e.struct.button))])])],1):e._e()])])])},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-modal flex-start back_grey10"},[n("span",{staticClass:"header-modal__title semi-bold font-title inline-block grey50"},[e._v(e._s(e.title))]),n("div",{staticClass:"header-modal__delete-icon cursor-pointer",on:{click:e.handleClose}},[n("cross-icon")],1)])},i=[],o={functional:!0,render(e,t){const{_c:n,_v:l,data:a,children:s=[]}=t,{class:i,staticClass:o,style:c,staticStyle:r,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,r],attrs:Object.assign({width:"30",height:"30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...d},s.concat([n("path",{staticClass:"cross-icon--",attrs:{d:"M8 8l14 14M22 8L8 22",stroke:"gray","stroke-width":"1.5","stroke-miterlimit":"10"}})]))}},c={name:"HeaderModal",componentName:"HeaderModal",components:{CrossIcon:o},props:{title:String},methods:{handleClose(e){console.log("[HeaderModal.vue]: handleClose: ",e),this.$emit("onClose",e)}}},r=c,u=(n("9a04"),n("2877")),d=Object(u["a"])(r,s,i,!1,null,null,null),p=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.fields&&e.value?n("div",{staticClass:"dynamic-fields-section"},[n("div",{staticClass:"dynamic-flelds-section__content width-max-limit"},e._l(e.curFields,(function(t,l){return n(e.curComponents[t.type],e._b({key:l,tag:"component",staticClass:"dynamic-fields-section__component",on:{input:function(n){return e.handleInput(t.type,t.name,n)}},model:{value:e.value[t.name],callback:function(n){e.$set(e.value,t.name,n)},expression:"value[field.name]"}},"component",t.options,!1))})),1)]):e._e()},m=[],f=(n("ac6a"),n("6b54"),{name:"DynamicFieldsSection",componentName:"DynamicFieldsSection",props:{value:{type:Object,default:null},fields:{type:Array,default:null},disabled:{type:Boolean,default:!1}},data(){return{allFields:{input:"InputComponent.vue",inputNumber:"InputNumber.vue",select:"SelectComponent.vue",textarea:"TextareaComponent.vue"},curFields:[],curComponents:{}}},watch:{fields:{handler(e,t){this.initializeStruct(e)},immediate:!0}},methods:{handleInput(e,t,n){console.log("[DynamicFieldsSection.vue]: handleInput: ",e,t,n);let l=this.$panel.clone(this.value);l[t]=n,this.$emit("input",l)},loadComponent(e){return t=>Promise.all([n.e("chunk-7d32f69d"),n.e("chunk-8861d1de")]).then(function(){var l=[n("4244")(`./${this.allFields[e]}`)];t.apply(null,l)}.bind(this)).catch(n.oe)},initializeStruct(e){console.log(e);let t=[],n=[];"[object Array]"===Object.prototype.toString.call(e)&&(e.forEach(e=>{if("[object Object]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("type")&&this.allFields.hasOwnProperty(e.type)){if(-1===n.indexOf(e.type)&&n.push(e.type),!this.curComponents.hasOwnProperty(e.type)){let t=this.loadComponent(e.type);this.curComponents[e.type]=t}t.push(e)}}),this.curFields=t,Object.keys(this.curComponents).forEach(e=>{-1===n.indexOf(e)&&delete this.curComponents[e]}),n=null)}}}),v=f,y=(n("2aa5"),Object(u["a"])(v,h,m,!1,null,null,null)),b=y.exports,C={name:"EditProcessModal",componentName:"EditProcessModal",components:{HeaderModal:p,DynamicFieldsSection:b},props:{value:{type:Object,required:!0},struct:{type:Object,required:!0},callback:{type:Function,default:null},indexModal:{type:Number,required:!0},eventValue:{type:Number,default:null}},data(){return{curValue:null,curSectionStruct:null}},watch:{value:{handler(e,t){this.curValue=this.$panel.clone(e)},immediate:!0},struct:{handler(e,t){e&&e.hasOwnProperty("sectionStruct")&&(this.curSectionStruct=this.$panel.clone(e.sectionStruct))},immediate:!0}},methods:{checkFillFields(){let e=!0;return this.curSectionStruct.fields=this.curSectionStruct.fields.map(t=>{t.type;let n=t.hasOwnProperty("options")&&t.options.hasOwnProperty("passFillValid")&&t.options.passFillValid,l={input:"",textarea:"",inputDate:"",inputNumber:""};return!n&&l.hasOwnProperty(t.type)&&this.$panel.isEqual(this.curValue[t.name],l[t.type])&&(e=!1,t.options["isError"]=!0),t}),e},handleCloseHeader(e){console.log("[EditProcessModal.vue]: handleCloseHeader: ",e),null!==this.callback&&void 0!==this.callback&&this.callback({indexModal:this.indexModal,typeEvent:"close",event:e})},handleButton(e){console.log("[EditProcessModal.vue]: handleButton: ",e),this.checkFillFields()&&null!==this.callback&&void 0!==this.callback&&this.callback({indexModal:this.indexModal,typeEvent:this.struct.buttonNameEvent,value:this.curValue,event:e,eventValue:this.eventValue})}}},_=C,w=(n("28ec"),Object(u["a"])(_,l,a,!1,null,null,null));t["default"]=w.exports},"2aa5":function(e,t,n){"use strict";var l=n("9864"),a=n.n(l);a.a},"85dd":function(e,t,n){},9864:function(e,t,n){},"9a04":function(e,t,n){"use strict";var l=n("85dd"),a=n.n(l);a.a},aabf:function(e,t,n){}}]);
//# sourceMappingURL=EditProcessModal.a1ab75df.js.map
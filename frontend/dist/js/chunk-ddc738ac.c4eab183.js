(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddc738ac"],{"0a24":function(t,e,s){"use strict";e["a"]={functional:!0,render(t,e){const{_c:s,_v:n,data:a,children:i=[]}=e,{class:o,staticClass:l,style:r,staticStyle:c,attrs:p={},...u}=a;return s("svg",{class:[o,l],style:[r,c],attrs:Object.assign({width:"30",height:"30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p),...u},i.concat([s("path",{staticClass:"action-icon--",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 15a2 2 0 11-4 0 2 2 0 014 0zm7 0a2 2 0 11-4 0 2 2 0 014 0zm5 2a2 2 0 100-4 2 2 0 000 4z",fill:"gray"}})]))}}},"0a57":function(t,e,s){"use strict";var n=s("d954"),a=s.n(n);a.a},"23c1":function(t,e,s){"use strict";var n=s("a11a"),a=s.n(n);a.a},"2f21":function(t,e,s){"use strict";var n=s("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"31a3":function(t,e,s){"use strict";var n=s("97e5"),a=s.n(n);a.a},"50af":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShowData?s("div",{staticClass:"scroll-containter overflow-hidden-auto back_cyan-1",attrs:{id:"page-scripts"}},[s("div",{staticClass:"width-window scripts__title"},[s("title-page",{staticClass:"back_cyan-10",attrs:{value:t.getTitleValue}})],1),s("div",{staticClass:"width-window scripts__content"},[s("div",{staticClass:"panel-container"},[s("div",{staticClass:"scripts__content-left inline-block"},[s("div",{staticClass:"scripts__section"},[s("blocks-component",{attrs:{value:t.material.blocks,optionsDraggable:t.optionsDraggable},on:{input:function(e){return t.handleInput("blocks",e)}}})],1)]),s("div",{staticClass:"scripts__content-right scripts__panel-control inline-block"},[s("scripts-panel",{attrs:{title:t.$t("$controls.scripts"),count:t.material.blocks.length,needSave:t.needSave},on:{onEmit:t.handleEmitControl}})],1)])])]):t._e()},a=[],i=(s("55dd"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-page"},[s("div",{staticClass:"panel-container"},[s("div",{staticClass:"title-page__inner flex-start"},[t._t("prepend"),s("div",{staticClass:"title-page__inner-info inline-block"},[t._t("prepend-content"),s("div",{staticClass:"title-page__inner-info-content inline-block"},[s("div",[s("p",{staticClass:"semi-bold font-title cyan-dark inline-block"},[t._v(t._s(t.value.titleText))]),t._t("append-content-top-line")],2),s("p",{staticClass:"regular font-desc cyan-30"},[t._v(t._s(t.value.titleInfo))])]),t._t("append-content")],2),t._t("append")],2)])])}),o=[],l={props:{value:{type:Object,required:!0,validator(t){return console.log("[TitlePage.vue]: validator(value): ",t),t.hasOwnProperty("titleText")&&t.hasOwnProperty("titleInfo")}}}},r=l,c=(s("31a3"),s("2877")),p=Object(c["a"])(r,i,o,!1,null,null,null),u=p.exports,d=s("3359"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scripts-panel back_white"},[s("span",{staticClass:"scripts-panel__title semi-bold font-title black"},[t._v(t._s(t.title))]),s("div",{staticClass:"scripts-panel__row"},[s("p",{staticClass:"scripts-panel__row-left-p regular font-body"},[t._v(t._s(t.$t("$fields.need_save")))]),null!==t.needSave?s("p",{staticClass:"scripts-panel__row-right-p regular font-body"},[t._v(t._s(t.$t("$common."+(t.needSave?"yes":"no"))))]):t._e()]),s("div",{staticClass:"scripts-panel__row"},[s("p",{staticClass:"scripts-panel__row-left-p regular font-body"},[t._v(t._s(t.$t("$fields.all_scripts")))]),null!==t.count?s("p",{staticClass:"scripts-panel__row-right-p regular font-body"},[t._v(t._s(t.count))]):t._e()]),s("div",{staticClass:"scripts-panel__row"},[s("div",{staticClass:"scripts-panel__row-button btn-cyan text-center user-select-none",on:{click:function(e){return t.$emit("onEmit")}}},[t._v(t._s(t.$t("$buttons.save")))])])])},v=[],f={name:"ScriptsPanel",componentName:"ScriptsPanel",props:{title:{type:String,default:""},count:{type:Number,default:null},needSave:{type:Boolean,default:!1}}},h=f,g=(s("23c1"),Object(c["a"])(h,_,v,!1,null,null,null)),m=g.exports,b={name:"PageScripts",componentName:"PageScripts",components:{TitlePage:u,BlocksComponent:d["default"],ScriptsPanel:m},data(){return{optionsDraggable:{handle:".head-block__handlebar",draggable:".script-block"},isShowData:!1,originalMaterial:null,material:{blocks:[]}}},computed:{getTitleValue(){return{titleText:"Скрипты для тестирования",titleInfo:"(OS) Ubuntu 18.04.3 LTS"}},needSave(){return!this.$panel.isEqual(this.material,this.originalMaterial)}},created(){this.fetchData()},methods:{handleInput(t,e){this.material[t]=e},handleEmitControl(){console.log("[Scripts.vue]: handleEmitControl: ");let t=this.setPositions(this.material.blocks);t.map(t=>{return"NOT_CHANGED"===t.status&&(t.status="UPDATE"),t}),console.log("POST DATA: ",t),this.putScripts(t)},putScripts(t){console.log("[Scripts.vue]: putScripts: ",t),this.$store.state.axios.put("/scripts",t).then(t=>{console.log("[Scripts.vue]: putScripts(response): ",t),200===t.status&&(this.$store.commit("addNotification",{text:`${this.$t("$notifications.update_success")}`,color:"green"}),this.fetchData())}).catch(t=>{console.log("[Scripts.vue]: putScripts(error): ",t)})},setPositions(t){let e=0,s=t.map(t=>{return t.position=e++,t});return s},getSortPosition(t){let e=this.$panel.clone(t);return e.sort((t,e)=>{return t.position<e.position?-1:t.position>e.position?1:0}),e},fetchData(){this.$store.state.axios.get("/scripts").then(t=>{if(console.log("[Scripts.vue]: fetchData(response): ",t),200===t.status){let e={blocks:this.getSortPosition(t.data)};e.blocks.map(t=>{return t.status="NOT_CHANGED",t}),this.material=e,this.originalMaterial=this.$panel.clone(this.material),this.isShowData=!0}}).catch(t=>{console.log("[Scripts.vue]: fetchData(error): ",t)})}}},w=b,C=(s("0a57"),Object(c["a"])(w,n,a,!1,null,null,null));e["default"]=C.exports},"55dd":function(t,e,s){"use strict";var n=s("5ca1"),a=s("d8e8"),i=s("4bf8"),o=s("79e5"),l=[].sort,r=[1,2,3];n(n.P+n.F*(o((function(){r.sort(void 0)}))||!o((function(){r.sort(null)}))||!s("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(i(this)):l.call(i(this),a(t))}})},"807f":function(t,e,s){"use strict";var n=s("8513"),a=s.n(n);a.a},8513:function(t,e,s){},"93a9":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-component",class:{"is-active":t.dropdownActive}},[s("el-dropdown",{staticClass:"grey50",attrs:{trigger:"click"},on:{"visible-change":function(e){t.dropdownActive=e}}},[t._t("dropdown-slot-label"),s("el-dropdown-menu",{staticClass:"dropdown-component__drop-menu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.items,(function(e,n){return s("div",{on:{click:function(e){return t.$emit("onChange",n)}}},[s("el-dropdown-item",{staticClass:"regular font-body"},[t._v(t._s(e))])],1)})),0)],2)],1)},a=[],i=(s("c01d"),{name:"DropdownComponent",componentName:"DropdownComponent",props:{dropdown_title:String,items:Array},data(){return{dropdownActive:!1}}}),o=i,l=(s("807f"),s("2877")),r=Object(l["a"])(o,n,a,!1,null,null,null);e["a"]=r.exports},"97e5":function(t,e,s){},a11a:function(t,e,s){},d954:function(t,e,s){}}]);
//# sourceMappingURL=chunk-ddc738ac.c4eab183.js.map
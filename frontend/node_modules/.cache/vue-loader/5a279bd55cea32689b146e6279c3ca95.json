{"remainingRequest":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/components/elements/fields/SelectComponent.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/components/elements/fields/SelectComponent.vue","mtime":1570790569477},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/css-loader/index.js","mtime":1570790663459},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1570790665183},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/postcss-loader/src/index.js","mtime":1570790664303},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/sass-loader/dist/cjs.js","mtime":1570790664835},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/sass-loader/dist/cjs.js","mtime":1570790664835},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/style-resources-loader/lib/index.js","mtime":1570790664955},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1570790663275},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/vue-loader/lib/index.js","mtime":1570790665183}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.select-component {\n    width: 100%;\n    position: relative;\n    padding: 0;\n    &__label {\n        width: 100%;\n        padding: 10px 0;\n    }\n    &__general {\n        width: calc(100% - 2px);\n        .el-input {\n            width: 100%;\n            border: 1px solid $cyan-10;\n            &:hover {\n                border: 1px solid $cyan-20;\n            }\n            &.is-focus {\n                border: 1px solid $cyan-10;\n                background-color: $cyan-50;\n            }\n            &__inner {\n                background-color: rgba($cyan-10, .2);\n                color: $cyan-30;\n                border: none;\n                border-radius: 0;\n            }\n            &__icon {\n                position: absolute;\n                right: 0;\n                color: $cyan-30;\n            }\n            &__suffix {\n                margin: 0;\n                left: 0;\n                & .el-input__icon {\n                    color: $cyan-30;\n                }\n            }\n        }\n        input::placeholder {\n            color: $cyan-30;\n        }\n        .is-focus {\n            box-shadow: 0 2px 12px 0 rgba($cyan-dark, 0.1);\n            .el-input__inner {\n                background-color: $white;\n            }\n        }\n        .is-disabled {\n            color: $grey33;\n            .select-component__label {\n                color: $grey33;\n            }\n            &:hover {\n                color: $grey33;\n                background-color: $white;\n                border: 1px solid $grey10;\n                .select-component__label {\n                    color: $grey33;\n                }\n            }\n            &:active {\n                color: $grey33;\n                background-color: $white;\n            }\n            .hover {\n                color: $grey33;\n                background-color: $grey33;\n            }\n        }\n        &-option {\n\n        }\n    }\n}\n.black-placeholder {\n    .el-select {\n        input::placeholder {\n            color: $black;\n        }\n        &__tags {\n            display: none;\n        }\n    }\n}\n.select-component__general {\n    &-option.selected {\n        &::after {\n            padding: 0;\n            margin: 0;\n            top: 8px;\n            right: 0;\n            color: $cyan-1;\n        }\n    }\n}\n\n\n",{"version":3,"sources":["SelectComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SelectComponent.vue","sourceRoot":"src/components/elements/fields","sourcesContent":["<template lang=\"pug\">\ndiv.select-component(\n    :class=`[\n        (!!style_component && !!style_component.class) ? style_component.class : '',\n        { 'is-disabled': disabled }\n    ]`\n)\n    span.regular.font-body.select-component__label(\n        v-if=\"!!label\"\n        :class=\"{ 'error': !!isError && getEmptyCheck }\"\n    ) {{ label }}\n    el-select.select-component__general(\n        v-model=\"tmpValue\" \n        @change=\"update($event)\" \n        :multiple=\"multiple\"\n        :allow-create=\"multiple\" \n        :default-first-option=\"multiple\"\n        :disabled=\"disabled\"\n        :class=\"{'disabled': disabled}\"\n        :placeholder=\"getArrayCount\"\n        :id=\"id_tag\"\n        :noDataText=\"this.$t('$common.no_data')\"\n        v-bind=\"remoteOptions || {}\"\n        :filterable=\"getOptions.length > 30 || (!!remoteOptions && remoteOptions.hasOwnProperty('filterable') && remoteOptions.filterable)\"\n    )\n        el-option.regular.font-body.select-component__general-option(\n            v-for=\"(item, index) in getOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n            :disabled=\"!!item.disabled ? item.disabled : false\"\n        )\n</template>\n\n<script>\nexport default {\n    name: 'SelectComponent',\n    componentName: 'SelectComponent',\n    props: {\n        value: [ String, Array ],\n        options: Array,\n        label: {\n            type: String,\n            default: null\n        },\n        style_component: {\n            type: Object,\n            default: null\n        },\n        isError: {\n            type: Boolean,\n            default: false\n        },\n        placeholder: String,\n        sortable: {\n            type: Boolean,\n            default: true\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        multiple: {\n            type: Boolean,\n            default: false\n        },\n        remoteOptions: {\n            type: Object,\n            default: null\n        }\n    },\n    data() {\n        return {\n            tmpValue: null,\n            select_options: [],\n            id_tag: ''\n        }\n    },\n    computed: {\n        getArrayCount() {\n            if (!!this.value && Object.prototype.toString.call(this.value) === '[object Array]') {\n                return this.value.length + ' ' + this.$t('$fields.fields_selected');\n            }\n            return this.placeholder || this.$t('$common.none');\n        },\n        getEmptyCheck(){\n            if (Object.prototype.toString.call(this.value) === '[object Array]'){\n                return this.value.length == 0;\n            } else {\n                return this.value == '';\n            }\n            return false;\n        },\n        getOptions(){\n            let cur_options = this.$panel.clone(this.select_options);\n            if (this.sortable) {\n                cur_options.sort((a, b) => {\n                    let leftText = '',\n                        rightText = '';\n                    leftText = a.label;\n                    rightText = b.label;\n                    return (leftText.toLowerCase()).localeCompare(rightText.toLowerCase());\n                });\n                let fixedElements = {};\n                for (let i = 0; i < cur_options.length; i++) {\n                    if ('fixed_index' in cur_options[i]) fixedElements[i] = cur_options[i];\n                }\n                if (Object.keys(fixedElements).length !== 0) {\n                    let new_options = this.$panel.clone(cur_options);\n                    for (let j in fixedElements) {\n                        new_options.splice(j, 1);\n                    }\n                    Object\n                        .values(fixedElements)\n                        .sort((a, b) => {\n                            if (a.fixed_index < b.fixed_index) return -1;\n                            if (a.fixed_index > b.fixed_index) return 1;\n                            return 0;\n                        })\n                        .forEach(element => {\n                            new_options.splice(element.fixed_index, 0, element);\n                        });\n                    return new_options;\n                }\n            }\n            return cur_options;\n            //this.setSelectValue(this.value);\n        },\n    },\n    created(){\n        //this.initializeSelect();\n        this.$store.commit('incObjectID');\n        this.id_tag = this.$store.getters.getObjectID;\n    },\n    watch: {\n        value: {\n            handler: function(n, o){\n                this.setSelectValue(n);\n            },\n            immediate: true\n        },\n        options: {\n            handler: function(n, o){\n                this.initializeSelect();\n            },\n            immediate: true\n        }\n    },\n    methods: {\n        setSelectValue(n) {\n            if (Object.prototype.toString.call(n) === '[object Array]'){\n                this.tmpValue = this.$panel.clone(n);\n                setTimeout(() => {\n                    let element = document.getElementById(this.id_tag);\n                    //console.log(element);\n                    if (!!element) {\n                        element.setAttribute('placeholder', this.getArrayCount)\n                    }\n                }, 500);\n            } else {\n                this.tmpValue = n;\n            }\n        },\n        initializeSelect(){\n            console.log(\"INIT SELECT\", this.options);\n            let options = [];\n            if (!!this.options){\n                this.options.forEach(selectValue => {\n                    // if (select_value.type == 'value'){\n                        options.push(selectValue);\n                    // }\n                });\n            }\n            console.log(options);\n            this.select_options = options;\n        },\n        update(v){\n            //console.log(v);\n            this.$emit('input', v);\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.select-component {\n    width: 100%;\n    position: relative;\n    padding: 0;\n    &__label {\n        width: 100%;\n        padding: 10px 0;\n    }\n    &__general {\n        width: calc(100% - 2px);\n        .el-input {\n            width: 100%;\n            border: 1px solid $cyan-10;\n            &:hover {\n                border: 1px solid $cyan-20;\n            }\n            &.is-focus {\n                border: 1px solid $cyan-10;\n                background-color: $cyan-50;\n            }\n            &__inner {\n                background-color: rgba($cyan-10, .2);\n                color: $cyan-30;\n                border: none;\n                border-radius: 0;\n            }\n            &__icon {\n                position: absolute;\n                right: 0;\n                color: $cyan-30;\n            }\n            &__suffix {\n                margin: 0;\n                left: 0;\n                & .el-input__icon {\n                    color: $cyan-30;\n                }\n            }\n        }\n        input::placeholder {\n            color: $cyan-30;\n        }\n        .is-focus {\n            box-shadow: 0 2px 12px 0 rgba($cyan-dark, 0.1);\n            .el-input__inner {\n                background-color: $white;\n            }\n        }\n        .is-disabled {\n            color: $grey33;\n            .select-component__label {\n                color: $grey33;\n            }\n            &:hover {\n                color: $grey33;\n                background-color: $white;\n                border: 1px solid $grey10;\n                .select-component__label {\n                    color: $grey33;\n                }\n            }\n            &:active {\n                color: $grey33;\n                background-color: $white;\n            }\n            .hover {\n                color: $grey33;\n                background-color: $grey33;\n            }\n        }\n        &-option {\n\n        }\n    }\n}\n.black-placeholder {\n    .el-select {\n        input::placeholder {\n            color: $black;\n        }\n        &__tags {\n            display: none;\n        }\n    }\n}\n.select-component__general {\n    &-option.selected {\n        &::after {\n            padding: 0;\n            margin: 0;\n            top: 8px;\n            right: 0;\n            color: $cyan-1;\n        }\n    }\n}\n\n\n</style>"]}]}
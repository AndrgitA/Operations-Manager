{"remainingRequest":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/babel-loader/lib/index.js!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/components/elements/fields/SelectComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/components/elements/fields/SelectComponent.vue","mtime":1570790569477},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1570790663275},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/babel-loader/lib/index.js","mtime":1570790663215},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1570790663275},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/vue-loader/lib/index.js","mtime":1570790665183}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'SelectComponent',\n  componentName: 'SelectComponent',\n  props: {\n    value: [String, Array],\n    options: Array,\n    label: {\n      type: String,\n      default: null\n    },\n    style_component: {\n      type: Object,\n      default: null\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    placeholder: String,\n    sortable: {\n      type: Boolean,\n      default: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    remoteOptions: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      tmpValue: null,\n      select_options: [],\n      id_tag: ''\n    };\n  },\n  computed: {\n    getArrayCount: function getArrayCount() {\n      if (!!this.value && Object.prototype.toString.call(this.value) === '[object Array]') {\n        return this.value.length + ' ' + this.$t('$fields.fields_selected');\n      }\n\n      return this.placeholder || this.$t('$common.none');\n    },\n    getEmptyCheck: function getEmptyCheck() {\n      if (Object.prototype.toString.call(this.value) === '[object Array]') {\n        return this.value.length == 0;\n      } else {\n        return this.value == '';\n      }\n\n      return false;\n    },\n    getOptions: function getOptions() {\n      var cur_options = this.$panel.clone(this.select_options);\n\n      if (this.sortable) {\n        cur_options.sort(function (a, b) {\n          var leftText = '',\n              rightText = '';\n          leftText = a.label;\n          rightText = b.label;\n          return leftText.toLowerCase().localeCompare(rightText.toLowerCase());\n        });\n        var fixedElements = {};\n\n        for (var i = 0; i < cur_options.length; i++) {\n          if ('fixed_index' in cur_options[i]) fixedElements[i] = cur_options[i];\n        }\n\n        if (Object.keys(fixedElements).length !== 0) {\n          var new_options = this.$panel.clone(cur_options);\n\n          for (var j in fixedElements) {\n            new_options.splice(j, 1);\n          }\n\n          Object.values(fixedElements).sort(function (a, b) {\n            if (a.fixed_index < b.fixed_index) return -1;\n            if (a.fixed_index > b.fixed_index) return 1;\n            return 0;\n          }).forEach(function (element) {\n            new_options.splice(element.fixed_index, 0, element);\n          });\n          return new_options;\n        }\n      }\n\n      return cur_options; //this.setSelectValue(this.value);\n    }\n  },\n  created: function created() {\n    //this.initializeSelect();\n    this.$store.commit('incObjectID');\n    this.id_tag = this.$store.getters.getObjectID;\n  },\n  watch: {\n    value: {\n      handler: function handler(n, o) {\n        this.setSelectValue(n);\n      },\n      immediate: true\n    },\n    options: {\n      handler: function handler(n, o) {\n        this.initializeSelect();\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    setSelectValue: function setSelectValue(n) {\n      var _this = this;\n\n      if (Object.prototype.toString.call(n) === '[object Array]') {\n        this.tmpValue = this.$panel.clone(n);\n        setTimeout(function () {\n          var element = document.getElementById(_this.id_tag); //console.log(element);\n\n          if (!!element) {\n            element.setAttribute('placeholder', _this.getArrayCount);\n          }\n        }, 500);\n      } else {\n        this.tmpValue = n;\n      }\n    },\n    initializeSelect: function initializeSelect() {\n      console.log(\"INIT SELECT\", this.options);\n      var options = [];\n\n      if (!!this.options) {\n        this.options.forEach(function (selectValue) {\n          // if (select_value.type == 'value'){\n          options.push(selectValue); // }\n        });\n      }\n\n      console.log(options);\n      this.select_options = options;\n    },\n    update: function update(v) {\n      //console.log(v);\n      this.$emit('input', v);\n    }\n  }\n};",{"version":3,"sources":["SelectComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\ndiv.select-component(\n    :class=`[\n        (!!style_component && !!style_component.class) ? style_component.class : '',\n        { 'is-disabled': disabled }\n    ]`\n)\n    span.regular.font-body.select-component__label(\n        v-if=\"!!label\"\n        :class=\"{ 'error': !!isError && getEmptyCheck }\"\n    ) {{ label }}\n    el-select.select-component__general(\n        v-model=\"tmpValue\" \n        @change=\"update($event)\" \n        :multiple=\"multiple\"\n        :allow-create=\"multiple\" \n        :default-first-option=\"multiple\"\n        :disabled=\"disabled\"\n        :class=\"{'disabled': disabled}\"\n        :placeholder=\"getArrayCount\"\n        :id=\"id_tag\"\n        :noDataText=\"this.$t('$common.no_data')\"\n        v-bind=\"remoteOptions || {}\"\n        :filterable=\"getOptions.length > 30 || (!!remoteOptions && remoteOptions.hasOwnProperty('filterable') && remoteOptions.filterable)\"\n    )\n        el-option.regular.font-body.select-component__general-option(\n            v-for=\"(item, index) in getOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n            :disabled=\"!!item.disabled ? item.disabled : false\"\n        )\n</template>\n\n<script>\nexport default {\n    name: 'SelectComponent',\n    componentName: 'SelectComponent',\n    props: {\n        value: [ String, Array ],\n        options: Array,\n        label: {\n            type: String,\n            default: null\n        },\n        style_component: {\n            type: Object,\n            default: null\n        },\n        isError: {\n            type: Boolean,\n            default: false\n        },\n        placeholder: String,\n        sortable: {\n            type: Boolean,\n            default: true\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        multiple: {\n            type: Boolean,\n            default: false\n        },\n        remoteOptions: {\n            type: Object,\n            default: null\n        }\n    },\n    data() {\n        return {\n            tmpValue: null,\n            select_options: [],\n            id_tag: ''\n        }\n    },\n    computed: {\n        getArrayCount() {\n            if (!!this.value && Object.prototype.toString.call(this.value) === '[object Array]') {\n                return this.value.length + ' ' + this.$t('$fields.fields_selected');\n            }\n            return this.placeholder || this.$t('$common.none');\n        },\n        getEmptyCheck(){\n            if (Object.prototype.toString.call(this.value) === '[object Array]'){\n                return this.value.length == 0;\n            } else {\n                return this.value == '';\n            }\n            return false;\n        },\n        getOptions(){\n            let cur_options = this.$panel.clone(this.select_options);\n            if (this.sortable) {\n                cur_options.sort((a, b) => {\n                    let leftText = '',\n                        rightText = '';\n                    leftText = a.label;\n                    rightText = b.label;\n                    return (leftText.toLowerCase()).localeCompare(rightText.toLowerCase());\n                });\n                let fixedElements = {};\n                for (let i = 0; i < cur_options.length; i++) {\n                    if ('fixed_index' in cur_options[i]) fixedElements[i] = cur_options[i];\n                }\n                if (Object.keys(fixedElements).length !== 0) {\n                    let new_options = this.$panel.clone(cur_options);\n                    for (let j in fixedElements) {\n                        new_options.splice(j, 1);\n                    }\n                    Object\n                        .values(fixedElements)\n                        .sort((a, b) => {\n                            if (a.fixed_index < b.fixed_index) return -1;\n                            if (a.fixed_index > b.fixed_index) return 1;\n                            return 0;\n                        })\n                        .forEach(element => {\n                            new_options.splice(element.fixed_index, 0, element);\n                        });\n                    return new_options;\n                }\n            }\n            return cur_options;\n            //this.setSelectValue(this.value);\n        },\n    },\n    created(){\n        //this.initializeSelect();\n        this.$store.commit('incObjectID');\n        this.id_tag = this.$store.getters.getObjectID;\n    },\n    watch: {\n        value: {\n            handler: function(n, o){\n                this.setSelectValue(n);\n            },\n            immediate: true\n        },\n        options: {\n            handler: function(n, o){\n                this.initializeSelect();\n            },\n            immediate: true\n        }\n    },\n    methods: {\n        setSelectValue(n) {\n            if (Object.prototype.toString.call(n) === '[object Array]'){\n                this.tmpValue = this.$panel.clone(n);\n                setTimeout(() => {\n                    let element = document.getElementById(this.id_tag);\n                    //console.log(element);\n                    if (!!element) {\n                        element.setAttribute('placeholder', this.getArrayCount)\n                    }\n                }, 500);\n            } else {\n                this.tmpValue = n;\n            }\n        },\n        initializeSelect(){\n            console.log(\"INIT SELECT\", this.options);\n            let options = [];\n            if (!!this.options){\n                this.options.forEach(selectValue => {\n                    // if (select_value.type == 'value'){\n                        options.push(selectValue);\n                    // }\n                });\n            }\n            console.log(options);\n            this.select_options = options;\n        },\n        update(v){\n            //console.log(v);\n            this.$emit('input', v);\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.select-component {\n    width: 100%;\n    position: relative;\n    padding: 0;\n    &__label {\n        width: 100%;\n        padding: 10px 0;\n    }\n    &__general {\n        width: calc(100% - 2px);\n        .el-input {\n            width: 100%;\n            border: 1px solid $cyan-10;\n            &:hover {\n                border: 1px solid $cyan-20;\n            }\n            &.is-focus {\n                border: 1px solid $cyan-10;\n                background-color: $cyan-50;\n            }\n            &__inner {\n                background-color: rgba($cyan-10, .2);\n                color: $cyan-30;\n                border: none;\n                border-radius: 0;\n            }\n            &__icon {\n                position: absolute;\n                right: 0;\n                color: $cyan-30;\n            }\n            &__suffix {\n                margin: 0;\n                left: 0;\n                & .el-input__icon {\n                    color: $cyan-30;\n                }\n            }\n        }\n        input::placeholder {\n            color: $cyan-30;\n        }\n        .is-focus {\n            box-shadow: 0 2px 12px 0 rgba($cyan-dark, 0.1);\n            .el-input__inner {\n                background-color: $white;\n            }\n        }\n        .is-disabled {\n            color: $grey33;\n            .select-component__label {\n                color: $grey33;\n            }\n            &:hover {\n                color: $grey33;\n                background-color: $white;\n                border: 1px solid $grey10;\n                .select-component__label {\n                    color: $grey33;\n                }\n            }\n            &:active {\n                color: $grey33;\n                background-color: $white;\n            }\n            .hover {\n                color: $grey33;\n                background-color: $grey33;\n            }\n        }\n        &-option {\n\n        }\n    }\n}\n.black-placeholder {\n    .el-select {\n        input::placeholder {\n            color: $black;\n        }\n        &__tags {\n            display: none;\n        }\n    }\n}\n.select-component__general {\n    &-option.selected {\n        &::after {\n            padding: 0;\n            margin: 0;\n            top: 8px;\n            right: 0;\n            color: $cyan-1;\n        }\n    }\n}\n\n\n</style>"],"sourceRoot":"src/components/elements/fields"}]}
{"remainingRequest":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/thread-loader/dist/cjs.js!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/babel-loader/lib/index.js!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/tools/store.js","dependencies":[{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/tools/store.js","mtime":1570790569477},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1570790663275},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1570790665071},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/babel-loader/lib/index.js","mtime":1570790663215}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport VueCookie from 'vue-cookie';\nimport axios from \"./axios.js\";\nVue.use(Vuex);\nvar store = new Vuex.Store({\n  state: {\n    APP_SERVER_ADDRESS: process.env.VUE_APP_SERVER_ADDRESS,\n    APP_VERSION_API: process.env.VUE_APP_VERSION_API,\n    APP_IMAGE_URL_PREFIX: process.env.VUE_APP_IMAGE_URL_PREFIX,\n    ObjectID: 0,\n    flagUpdate: false,\n    isAuth: false,\n    modals: [],\n    // container for modals\n    notifications: [],\n    // container for notifications\n    // TODO: update user struct for this project\n    user: {\n      login: '',\n      role: '',\n      id: ''\n    },\n    axios: axios\n  },\n  actions: {\n    initializeUserData: function initializeUserData(_ref, value) {\n      var commit = _ref.commit;\n      var user = value.user,\n          token = value.token;\n\n      if (user !== null) {\n        commit('setUserData', user);\n        commit('Login', {\n          token: token,\n          router: null\n        });\n      } else {\n        commit('Logout', null);\n      }\n    }\n  },\n  getters: {\n    getObjectID: function getObjectID(state) {\n      return \"app_id_\".concat(state.ObjectID);\n    }\n  },\n  mutations: {\n    addInterceptorsAxios: function addInterceptorsAxios(state, _ref2) {\n      var response = _ref2.response,\n          error = _ref2.error;\n      state.axios.interceptors.response.use(response, error);\n    },\n    updatePageData: function updatePageData(state) {\n      state.flagUpdate = !state.flagUpdate;\n    },\n    Login: function Login(state, _ref3) {\n      var token = _ref3.token,\n          router = _ref3.router;\n      console.log(\"[store.js]: Login: \", token, router);\n      state.isAuth = token;\n      state.axios.defaults.headers.common['Token'] = token;\n      console.log(\"[store.js]: Router: \", router);\n\n      if (!!router) {\n        router.replace({\n          path: '/information'\n        });\n      }\n    },\n    Logout: function Logout(state, router) {\n      console.log(\"[store.js]: Logout: \", router);\n      state.isAuth = false;\n      delete state.axios.defaults.headers.common['Token'];\n      VueCookie.delete('omanager-panel__token');\n      console.log(\"[store.js]: Router: \", router);\n\n      if (!!router && router.history.current.path !== '/login') {\n        router.replace({\n          path: '/login'\n        });\n      }\n    },\n    setUserData: function setUserData(state, user) {\n      console.log(\"[store.js]: setUserData \", user);\n      state.user = user;\n    },\n    incObjectID: function incObjectID(state) {\n      state.ObjectID++;\n    },\n    //#region modals area\n    addModal: function addModal(state, modalValue) {\n      console.log(\"[store.js]: addModal: \", modalValue);\n      state.modals.push(modalValue);\n    },\n    removeModal: function removeModal(state, index) {\n      console.log(\"[store.js]: removeModal: \", index);\n      state.modals.splice(index, 1);\n    },\n    removeAllModal: function removeAllModal(state) {\n      console.log(\"[store.js]: removeAllModal: \");\n      state.modals = [];\n    },\n    //#endregion\n    //#region notification area\n    addNotification: function addNotification(state, notificationValue) {\n      console.log(\"[store.js]: addNotification: \", notificationValue);\n      state.notifications.push(notificationValue);\n    },\n    removeFirstNotification: function removeFirstNotification(state) {\n      if (state.notifications.length > 0) {\n        state.notifications.splice(0, 1);\n      }\n    },\n    removeAllNotification: function removeAllNotification(state) {\n      console.log(\"[store.js]: removeAllNotification: \");\n      state.notifications = [];\n    } //#endregion\n\n  }\n});\nexport default store;",{"version":3,"sources":["/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/tools/store.js"],"names":["Vue","Vuex","VueCookie","axios","use","store","Store","state","APP_SERVER_ADDRESS","process","env","VUE_APP_SERVER_ADDRESS","APP_VERSION_API","VUE_APP_VERSION_API","APP_IMAGE_URL_PREFIX","VUE_APP_IMAGE_URL_PREFIX","ObjectID","flagUpdate","isAuth","modals","notifications","user","login","role","id","actions","initializeUserData","value","commit","token","router","getters","getObjectID","mutations","addInterceptorsAxios","response","error","interceptors","updatePageData","Login","console","log","defaults","headers","common","replace","path","Logout","delete","history","current","setUserData","incObjectID","addModal","modalValue","push","removeModal","index","splice","removeAllModal","addNotification","notificationValue","removeFirstNotification","length","removeAllNotification"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VueCookie from 'vue-cookie';\nimport axios from './axios.js';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n    state: {\n        APP_SERVER_ADDRESS: process.env.VUE_APP_SERVER_ADDRESS,\n        APP_VERSION_API: process.env.VUE_APP_VERSION_API,\n        APP_IMAGE_URL_PREFIX: process.env.VUE_APP_IMAGE_URL_PREFIX,\n        ObjectID: 0,\n        flagUpdate: false,\n        isAuth: false,\n        modals: [],                                                 // container for modals\n        notifications: [],                                          // container for notifications\n        // TODO: update user struct for this project\n        user: {\n            login: '',\n            role: '',\n            id: ''\n        },\n        axios: axios\n    },\n    actions: {\n        initializeUserData({ commit }, value) {\n            let user = value.user,\n                token = value.token;\n\n            if (user !== null) {\n                commit('setUserData', user);\n                commit('Login', { token, router: null });\n            } else {\n                commit('Logout', null);\n            }\n        }\n    },\n    getters: {\n        getObjectID(state) {\n            return `app_id_${ state.ObjectID }`;\n        }\n    },\n    mutations: {\n        addInterceptorsAxios(state, { response, error }) {\n            state.axios.interceptors.response.use(response, error);\n        },\n        updatePageData(state) {\n            state.flagUpdate = !state.flagUpdate;\n        },\n        Login(state, { token, router }) {\n            console.log(\"[store.js]: Login: \", token, router);\n            state.isAuth = token;\n            state.axios.defaults.headers.common['Token'] = token;\n            \n            console.log(\"[store.js]: Router: \", router);\n            if (!!router) {\n                router.replace({ path: '/information' });\n            }\n        },\n        Logout(state, router) {\n            console.log(\"[store.js]: Logout: \", router);\n            state.isAuth = false;\n            delete state.axios.defaults.headers.common['Token'];\n            VueCookie.delete('omanager-panel__token')\n\n            console.log(\"[store.js]: Router: \", router);\n            if (!!router && router.history.current.path !== '/login') {\n                router.replace({ path: '/login' });\n            }\n        },\n        setUserData(state, user) {\n            console.log(\"[store.js]: setUserData \", user);\n            state.user = user;\n        },\n        incObjectID(state) {\n            state.ObjectID++;\n        },\n        //#region modals area\n        addModal(state, modalValue) {\n            console.log(\"[store.js]: addModal: \", modalValue);\n            state.modals.push(modalValue);\n        },\n        removeModal(state, index) {\n            console.log(\"[store.js]: removeModal: \", index);\n            state.modals.splice(index, 1);\n        },\n        removeAllModal(state) {\n            console.log(\"[store.js]: removeAllModal: \");\n            state.modals = [];\n        },\n        //#endregion\n\n        //#region notification area\n        addNotification(state, notificationValue) {\n            console.log(\"[store.js]: addNotification: \", notificationValue);\n            state.notifications.push(notificationValue);\n        },\n        removeFirstNotification(state) {\n            if (state.notifications.length > 0) {\n                state.notifications.splice(0, 1);\n            }\n        },\n        removeAllNotification(state) {\n            console.log(\"[store.js]: removeAllNotification: \");\n            state.notifications = [];\n        },\n        //#endregion\n    }\n});\n\n\nexport default store;"]}]}
{"remainingRequest":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/babel-loader/lib/index.js!/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/tools/router.js","dependencies":[{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/tools/router.js","mtime":1570790569477},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1570790663275},{"path":"/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/node_modules/babel-loader/lib/index.js","mtime":1570790663215}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\n\nvar Login = function Login() {\n  return import(\n  /* webpackChunkName: \"pageLogin\" */\n  '@/views/Login.vue');\n};\n\nvar Information = function Information() {\n  return import(\n  /* webpackChunkName: \"pageInformation\" */\n  '@/views/Information.vue');\n};\n\nvar Processes = function Processes() {\n  return import(\n  /* webpackChunkName: \"pageProcesses\" */\n  '@/views/Processes.vue');\n};\n\nvar Scripts = function Scripts() {\n  return import(\n  /* webpackScripts: \"pageScripts\" */\n  '@/views/Scripts.vue');\n};\n\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          resolve(savedPosition);\n        }, 600);\n      });\n    } else {\n      setTimeout(function () {\n        return {\n          x: 0,\n          y: 0\n        };\n      }, 500);\n    }\n  },\n  routes: [{\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  }, {\n    path: '/information',\n    name: 'Information',\n    component: Information\n  }, {\n    path: '/processes',\n    name: 'Processes',\n    component: Processes\n  }, {\n    path: '/scripts',\n    name: 'Scripts',\n    component: Scripts\n  }, {\n    path: '*',\n    redirect: function redirect(to) {\n      var hash = to.hash,\n          params = to.params,\n          query = to.query;\n      return {\n        name: \"Login\",\n        params: {\n          to: {\n            hash: hash,\n            params: params,\n            query: query\n          },\n          page_not_found: true\n        }\n      };\n    }\n  }]\n});\n/**\n * hook beforeEach for router;\n * @param { Store } store Vuex.Store\n */\n\nvar routerBeforeEach = function routerBeforeEach(store) {\n  return function (to, from, next) {\n    console.log(\"[router.js]: routerBeforeEach: \", to, from, store.state);\n\n    switch (to.path) {\n      case '/login':\n        if (!!store.state.isAuth) {\n          var pathTo = '/information'; // TODO: change later to /modules\n\n          next({\n            path: pathTo\n          });\n        } else {\n          next();\n        }\n\n        break;\n\n      default:\n        if (!store.state.isAuth) {\n          next({\n            path: '/login'\n          });\n        } else {\n          next();\n        }\n\n    }\n  };\n};\n\nexport { router, routerBeforeEach };\nexport default router;",{"version":3,"sources":["/home/andrey/Документы/Andrgit/Study/Golang/Operations-Manager/frontend/src/tools/router.js"],"names":["Vue","Router","Login","Information","Processes","Scripts","use","router","mode","base","process","env","BASE_URL","scrollBehavior","to","from","savedPosition","Promise","resolve","reject","setTimeout","x","y","routes","path","redirect","name","component","hash","params","query","page_not_found","routerBeforeEach","store","next","console","log","state","isAuth","pathTo"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\n\nconst Login = () => import(/* webpackChunkName: \"pageLogin\" */ '@/views/Login.vue');\n\nconst Information = () => import(/* webpackChunkName: \"pageInformation\" */ '@/views/Information.vue');\nconst Processes = () => import(/* webpackChunkName: \"pageProcesses\" */ '@/views/Processes.vue');\nconst Scripts = () => import(/* webpackScripts: \"pageScripts\" */ '@/views/Scripts.vue');\nVue.use(Router);\nconst router = new Router ({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    scrollBehavior (to, from, savedPosition) {\n        if(savedPosition) {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    resolve(savedPosition);\n                }, 600)\n            })\n        } else {\n            setTimeout(() => {\n                return {x: 0, y: 0}\n            }, 500);\n        }\n    },\n    routes: [\n        {\n            path: '/',\n            redirect: '/login'\n        },\n        {\n            path: '/login',\n            name: 'Login',\n            component: Login\n        },\n        {\n            path: '/information',\n            name: 'Information',\n            component: Information\n        },\n        {\n            path: '/processes',\n            name: 'Processes',\n            component: Processes\n        },\n        {\n            path: '/scripts',\n            name: 'Scripts',\n            component: Scripts\n        },\n        {\n            path: '*',\n            redirect: to => {\n                const { hash, params, query } = to;\n                return {\n                    name: \"Login\",\n                    params: {\n                        to: { hash, params, query },\n                        page_not_found: true\n                    }\n                }\n            }\n        }\n    ]\n});\n\n\n/**\n * hook beforeEach for router;\n * @param { Store } store Vuex.Store\n */\nconst routerBeforeEach = function(store) {\n    return (to, from, next) => {\n        console.log(\"[router.js]: routerBeforeEach: \", to, from, store.state);\n        switch (to.path) {\n            case '/login':\n                if (!!store.state.isAuth) {\n                    let pathTo = '/information'; // TODO: change later to /modules\n                    next({ path: pathTo });\n                } else {\n                    next();\n                }\n                break;\n            default: \n                if (!store.state.isAuth) {\n                    next({ path: '/login' });\n                } else {\n                    next();\n                }\n        }\n    };\n};\n\nexport {\n    router,\n    routerBeforeEach\n}\n\nexport default router;"]}]}